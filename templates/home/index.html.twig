{% extends 'base.html.twig' %}

{% block title %}Inicio - Red Social{% endblock %}

{% block body %}
<div style="max-width: 650px; margin: 30px auto; font-family: 'Segoe UI', Arial, sans-serif;">
    
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2 style="color: #333; margin: 0;">Tu Muro</h2>
        <a href="{{ path('app_logout') }}" style="color: #dc3545; text-decoration: none; font-weight: bold; font-size: 0.9em;">Cerrar Sesi√≥n ({{ app.user.nombre }})</a>
    </div>

    <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); margin-bottom: 30px; border: 1px solid #eaeaea;">
        <form method="post" action="#"> {# Aqu√≠ pondremos la ruta de crear post despu√©s #}
            <textarea name="contenido" rows="3" placeholder="¬øQu√© est√°s pensando, {{ app.user.nombre }}?" style="width: 100%; padding: 15px; border-radius: 8px; border: 1px solid #ccc; box-sizing: border-box; resize: vertical; margin-bottom: 10px; font-family: inherit; font-size: 1em; outline: none;"></textarea>
            
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <button type="button" style="background: none; border: none; color: #28a745; cursor: pointer; font-weight: bold;">üì∑ A√±adir Imagen</button>
                <button type="button" style="background: #007bff; color: white; border: none; padding: 8px 25px; border-radius: 20px; cursor: pointer; font-weight: bold; transition: 0.2s;">Publicar</button>
            </div>
        </form>
    </div>

    {% for post in posts %}
        <div style="background: white; padding: 20px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); margin-bottom: 25px; border: 1px solid #eaeaea;">
            
            <div style="display: flex; align-items: center; margin-bottom: 15px;">
                <div style="width: 45px; height: 45px; background: #007bff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; font-size: 1.2em; margin-right: 15px;">
                    {# Letra inicial del usuario como "foto de perfil" provisional #}
                    {{ post.usuario.nombre|default('?')|first|upper }}
                </div>
                <div>
                    <h4 style="margin: 0; color: #222; font-size: 1.1em;">{{ post.usuario.nombre|default('Usuario Desconocido') }}</h4>
                    <small style="color: #888;">{{ post.fecha|date('d/m/Y H:i') }}</small>
                </div>
            </div>

            <p style="color: #444; line-height: 1.5; font-size: 1.05em; margin-bottom: 15px;">
                {{ post.contenido }}
            </p>

            <hr style="border: 0; border-top: 1px solid #eee; margin: 15px 0;">

            <div style="display: flex; gap: 20px; margin-bottom: 15px;">
                <button style="background: none; border: none; color: #666; cursor: pointer; font-weight: bold; display: flex; align-items: center; gap: 5px;">
                    ‚ù§Ô∏è Me gusta
                </button>
                <button style="background: none; border: none; color: #666; cursor: pointer; font-weight: bold; display: flex; align-items: center; gap: 5px;">
                    üí¨ Comentar
                </button>
            </div>

            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; border: 1px solid #eee;">
                
                {# Comentario simulado #}
                <div style="margin-bottom: 12px; font-size: 0.95em;">
                    <strong style="color: #333;">Juan P√©rez:</strong> ¬°Completamente de acuerdo contigo! üôå
                </div>
                
                <div style="display: flex; margin-top: 10px;">
                    <input type="text" placeholder="Escribe un comentario..." style="flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 20px 0 0 20px; box-sizing: border-box; outline: none;">
                    <button type="button" style="background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 0 20px 20px 0; cursor: pointer; font-weight: bold;">Enviar</button>
                </div>
            </div>
        </div>
    {% else %}
        <div style="text-align: center; color: #888; padding: 50px; background: white; border-radius: 12px; border: 1px dashed #ccc;">
            <p style="font-size: 1.2em; margin-bottom: 10px;">üì≠</p>
            <p>A√∫n no hay publicaciones en tu muro.</p>
            <p>¬°S√© el primero en romper el hielo publicando algo arriba!</p>
        </div>
    {% endfor %}

</div>
{% endblock %}